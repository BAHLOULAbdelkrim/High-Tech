<header class="site-header">
  <div class="header-container">
    <!-- Bloc gauche : logo + nom -->
    <div class="header-left">
      <a href="{{ "/" | relURL }}" class="home-link">
        <img src="{{ .Site.Params.logo | relURL }}" alt="Logo" class="logo">
        <span class="orbitron">High-Tech</span>
      </a>
    </div>

    <!-- Menus Desktop -->
    <nav class="top-menus" aria-label="Top navigation">
      <ul class="menu-grid">
        {{/* First row */}}
        {{ range $i, $m := slice "smartphones" "tablettes" "ordinateurs" "cameras" "wearables" "home-cinema" }}
          {{ $page := site.GetPage (printf "/%s/_index.md" $m) }}
          <li class="menu-item">
            <a href="{{ printf "/%s/" $m | relURL }}" data-menu="{{ $m }}">
              {{ if $page }}{{ $page.Title }}{{ else }}{{ humanize $m }}{{ end }}
            </a>
          </li>
        {{ end }}

        {{/* Second row */}}
        {{ range $i, $m := slice "gaming" "domotique" "audio" "obj-connectes" "impression" "peripheriques" }}
          {{ $page := site.GetPage (printf "/%s/_index.md" $m) }}
          <li class="menu-item">
            <a href="{{ printf "/%s/" $m | relURL }}" data-menu="{{ $m }}">
              {{ if $page }}{{ $page.Title }}{{ else }}{{ humanize $m }}{{ end }}
            </a>
          </li>
        {{ end }}
      </ul>
    </nav>
  </div>

  <!-- Barre recherche + langue mobile (affich√©e uniquement sur mobile) -->
  <div class="mobile-only">
    <form action="{{ "search" | relURL }}" method="get" class="search-form">
      <input type="search" name="q" placeholder="Rechercher..." aria-label="Rechercher" class="search-input">
      <button type="submit" class="search-button">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon-search" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <circle cx="11" cy="11" r="8" />
          <line x1="21" y1="21" x2="16.65" y2="16.65" />
        </svg>
        <span class="search-text">Rechercher</span>
      </button>
    </form>

    <div class="lang-select">
      <button id="lang-toggle-mobile" class="lang-btn" aria-label="Changer de langue">
        üåê <span id="current-lang-mobile">FR</span>
      </button>
      <ul id="lang-menu-mobile" class="lang-menu">
        <li data-lang="fr">FR - Fran√ßais</li>
        <li data-lang="en">EN - English</li>
        <li data-lang="ar">AR - ÿßŸÑÿπÿ±ÿ®Ÿäÿ©</li>
      </ul>
    </div>
  </div>

  <!-- Burger mobile -->
  <button id="menu-toggle" class="mobile-burger">
    <span class="burger-line"></span>
    <span class="burger-line"></span>
    <span class="burger-line"></span>
  </button>

  <!-- Menu mobile plein √©cran -->
  <nav id="mobile-nav" class="mobile-menu" aria-hidden="true">
    <button id="mobile-nav-close" class="close-mobile"></button>

    <ul>
      {{ range $m := slice "smartphones" "tablettes" "ordinateurs" "cameras" "wearables" "home-cinema" "gaming" "domotique" "audio" "obj-connectes" "impression" "peripheriques" }}
        <li class="menu-item" data-id="{{ $m }}">
          <a href="{{ printf "/%s/" $m | relURL }}">{{ humanize $m }}</a>
        </li>
      {{ end }}

      <li class="sep"></li>

      <li class="menu-item"><a href="/actualite/">Nouveaut√©s</a></li>
      <li class="menu-item"><a href="/comparatifs/">Trier par</a></li>
      <li class="menu-item"><a href="https://facebook.com" target="_blank">Facebook</a></li>
    </ul>
  </nav>
</header>

<section class="hero">
  {{ if .IsHome }}
    <div class="slideshow" id="slideshow">
      <img src="{{ "images/slide1.jpg" | relURL }}" class="slide visible">
      <img src="{{ "images/slide2.jpg" | relURL }}" class="slide">
      <img src="{{ "images/slide3.jpg" | relURL }}" class="slide">
      <img src="{{ "images/slide4.jpg" | relURL }}" class="slide">
    </div>
  {{ else }}
    {{ $menuImg := .Params.menu_image }}
    {{ if not $menuImg }}
      {{ $sec := .Section }}
      {{ with site.GetPage (printf "/%s/_index.md" $sec) }}
        {{ $menuImg = .Params.menu_image }}
      {{ end }}
    {{ end }}
    {{ if $menuImg }}
      <div class="hero-static">
        <img src="{{ $menuImg | relURL }}" alt="menu image">
      </div>
    {{ else }}
      <div class="slideshow" id="slideshow">
        <img src="{{ "images/slide1.jpg" | relURL }}" class="slide visible">
        <img src="{{ "images/slide2.jpg" | relURL }}" class="slide">
        <img src="{{ "images/slide3.jpg" | relURL }}" class="slide">
        <img src="{{ "images/slide4.jpg" | relURL }}" class="slide">
      </div>
    {{ end }}
  {{ end }}
</section>
