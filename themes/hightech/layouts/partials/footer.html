<footer class="bg-gray-100 mt-10 pt-8 pb-4 text-gray-700">
  
  <div class="text-center text-sm text-gray-600">
    &copy; {{ now.Format "2006" }} High-Tech. Tous droits rÃ©servÃ©s.
  </div>

  <script>
  // Gestion du menu langue
  const langToggle = document.getElementById('lang-toggle');
  const langMenu = document.getElementById('lang-menu');
  const currentLang = document.getElementById('current-lang');

  // DÃ©tection automatique de la langue
  const userLang = navigator.language || navigator.userLanguage;
  if(userLang.startsWith('ar')) currentLang.textContent = 'AR';
  else if(userLang.startsWith('en')) currentLang.textContent = 'EN';
  else currentLang.textContent = 'FR';

  langToggle.addEventListener('click', (e) => {
    e.stopPropagation();
    langMenu.classList.toggle('hidden');
  });

  document.addEventListener('click', () => {
    if(!langMenu.classList.contains('hidden')) langMenu.classList.add('hidden');
  });

  // Changement manuel
  langMenu.querySelectorAll('li').forEach(item => {
    item.addEventListener('click', () => {
      currentLang.textContent = item.dataset.lang.toUpperCase();
      langMenu.classList.add('hidden');
      // Ici, tu peux ajouter redirection si nÃ©cessaire, par exemple:
      // window.location.href = '/' + item.dataset.lang + '/';
    });
  });
  </script>

  <!-- ðŸ”½ Ajout du script de gestion des images de couverture -->
<script>
document.addEventListener('DOMContentLoaded', function() {
  const coverContainer = document.getElementById('cover-container');
  if (!coverContainer) return;

  const originalHTML = coverContainer.innerHTML;

  const menuLinks = document.querySelectorAll('a[data-menu]');
  const menuImageOverlay = document.createElement('div');
  menuImageOverlay.id = 'menu-image-overlay';
  menuImageOverlay.style.position = 'relative';
  menuImageOverlay.style.width = '100%';
  menuImageOverlay.style.height = '16rem';
  menuImageOverlay.style.overflow = 'hidden';
  menuImageOverlay.style.borderRadius = '0.5rem';
  menuImageOverlay.style.display = 'none';
  menuImageOverlay.style.animation = 'fadeIn 1s ease-in-out';
  coverContainer.parentNode.insertBefore(menuImageOverlay, coverContainer.nextSibling);

  // âœ… Correction principale ici
<script>
document.addEventListener('DOMContentLoaded', function() {
  const coverContainer = document.getElementById('cover-container');
  if (!coverContainer) return;

  const originalHTML = coverContainer.innerHTML;
  const menuLinks = document.querySelectorAll('a[data-id]');
  const homeLinks = document.querySelectorAll('a[href="/"], a[href="#home"]');
  let activeMenu = null;

  // âœ… Fonction : afficher lâ€™image du menu
  function showMenuImage(menuId) {
    const imagePath = `/images/${menuId}.png`;
    coverContainer.innerHTML = `
      <img src="${imagePath}" alt="${menuId}"
           class="w-full h-64 object-cover rounded-lg shadow transition-opacity duration-700 ease-in-out">
    `;
  }

  // âœ… Fonction : restaurer le slider original
  function restoreOriginalSlider() {
    coverContainer.innerHTML = originalHTML;
    activeMenu = null;
    document.querySelectorAll('.menu-item.active-menu').forEach(el => el.classList.remove('active-menu'));
  }

  // âœ… Gestion du clic sur les menus principaux
  menuLinks.forEach(link => {
    link.addEventListener('click', function(e) {
      e.preventDefault(); // On garde le clic sans rechargement
      const menuId = this.dataset.id;

      // Si on reclique sur le mÃªme menu => on ferme ses sous-menus
      if (activeMenu === menuId) {
        this.classList.remove('active-menu');
        activeMenu = null;
        restoreOriginalSlider();
        return;
      }

      // Sinon on active ce menu
      document.querySelectorAll('.menu-item.active-menu').forEach(el => el.classList.remove('active-menu'));
      this.classList.add('active-menu');
      activeMenu = menuId;
      showMenuImage(menuId);

      // âœ… Nouveau : affichage du sous-menu correspondant
      const parentLi = this.closest('li');
      const submenus = document.querySelectorAll('#main-nav li ul');
      submenus.forEach(ul => ul.classList.add('hidden')); // cache tous les sous-menus
      if (parentLi) {
        const submenu = parentLi.querySelector('ul');
        if (submenu) submenu.classList.remove('hidden');
      }
    });
  });

  // âœ… Clic sur â€œAccueilâ€ â†’ restaurer le slider
  homeLinks.forEach(link => {
    link.addEventListener('click', function() {
      restoreOriginalSlider();
      document.querySelectorAll('#main-nav li ul').forEach(ul => ul.classList.add('hidden'));
    });
  });

  // âœ… Restaurer le slider quand on revient Ã  la racine via navigation
  window.addEventListener('popstate', () => {
    if (window.location.pathname === '/' || window.location.pathname === '') {
      restoreOriginalSlider();
      document.querySelectorAll('#main-nav li ul').forEach(ul => ul.classList.add('hidden'));
    }
  });
});
</script>




</footer>
