<header class="bg-white shadow relative z-50">
  <div class="container mx-auto px-4 py-4 flex items-center justify-between">
    <!-- Logo + Titre -->
    <a href="/" class="flex items-center gap-2 min-w-[200px]">
      <img src="{{ .Site.Params.logo | absURL }}" alt="High-Tech" class="w-12 h-12">
      <span class="text-2xl font-bold text-purple-900" style="font-family: 'Orbitron', sans-serif;">High-Tech</span>
    </a>

    <!-- Navigation principale (desktop) -->
    <nav id="main-nav" class="hidden md:block w-full ml-32">
      <ul class="grid grid-cols-6 gap-2 justify-end w-full max-w-6xl mx-auto">
        {{ range first 6 .Site.Menus.main }}
        <li class="group relative">
          <a href="#" data-id="{{ .Identifier }}" class="menu-item block text-center px-3 py-2 text-[20px] font-semibold text-violet-800 bg-emerald-100 hover:text-emerald-700 hover:bg-violet-100 rounded transition-colors duration-300">
            {{ .Name }}
          </a>
        </li>
        {{ end }}
      </ul>
      <ul class="grid grid-cols-6 gap-2 justify-end w-full max-w-6xl mx-auto mt-2">
        {{ range after 6 .Site.Menus.main }}
        <li class="group relative">
          <a href="#" data-id="{{ .Identifier }}" class="menu-item block text-center px-3 py-2 text-[20px] font-semibold text-violet-800 bg-emerald-100 hover:text-emerald-700 hover:bg-violet-100 rounded transition-colors duration-300">
            {{ .Name }}
          </a>
        </li>
        {{ end }}
      </ul>
    </nav>

    <!-- Bouton burger / croix (mobile uniquement, √† droite) -->
    <button id="menu-toggle" class="md:hidden flex flex-col justify-between w-8 h-6 focus:outline-none relative z-50 ml-4">
      <span class="burger-line w-full h-1 bg-violet-800 rounded transition-all duration-300"></span>
      <span class="burger-line w-full h-1 bg-violet-800 rounded transition-all duration-300"></span>
      <span class="burger-line w-full h-1 bg-violet-800 rounded transition-all duration-300"></span>
    </button>
  </div>

  <!-- Section mobile : langue + recherche -->
<div class="md:hidden flex flex-col items-center gap-2 px-4 py-2 bg-white shadow-sm">
  <!-- Barre de langue (√† droite du titre) -->
  <div class="w-full flex justify-end">
    <button id="lang-toggle-mobile" class="flex items-center gap-2 px-3 py-1 bg-white border rounded shadow">
      üåê <span id="current-lang-mobile">FR</span>
    </button>
  </div>

  <!-- Barre de recherche -->
  <form class="w-full flex items-center gap-2" action="{{ "/search/" | relURL }}" method="get">
    <input name="q" type="search" placeholder="Rechercher..."
           class="flex-1 px-3 py-2 border rounded focus:outline-none text-sm" />
    <button type="submit" class="px-3 py-2 rounded border font-semibold bg-emerald-100 hover:bg-violet-400 text-black text-sm">
      Rechercher
    </button>
  </form>
</div>

<!-- Bouton Burger (visible sur mobile seulement) -->
<!-- <button id="menu-toggle" class="md:hidden flex flex-col justify-center items-center w-10 h-10 border rounded">
  <span class="w-6 h-0.5 bg-gray-800 mb-1"></span>
  <span class="w-6 h-0.5 bg-gray-800 mb-1"></span>
  <span class="w-6 h-0.5 bg-gray-800"></span>
</button>  -->


<!-- Bouton Burger align√© √† droite -->
<!-- <div class="ml-auto flex right-0 items-center">
  <button
    id="menu-toggle"
    class="md:hidden flex flex-col justify-between w-8 h-6 z-50 focus:outline-none"
    aria-label="Menu"
  >
    <span class="block w-full h-0.5 bg-violet-800 transition-transform duration-300"></span>
    <span class="block w-full h-0.5 bg-violet-800 transition-opacity duration-300"></span>
    <span class="block w-full h-0.5 bg-violet-800 transition-transform duration-300"></span>
  </button>
</div>   -->

<!-- Style de la barre de recherche -->
<style>
/* Style des trois barres */
#menu-toggle .burger-line {
  transition: all 0.3s ease;
  width: 100%;
  height: 3px;
  background-color: #4c1d95; /* violet-800 */
  border-radius: 2px;
  transform-origin: center; /* ‚úÖ rotation centr√©e */
}

/* Animation burger ‚Üí croix */
#menu-toggle.open .burger-line:nth-child(1) {
  transform: rotate(45deg);
  position: relative;
  top: 10px; /* ajuste la position verticale */
}

#menu-toggle.open .burger-line:nth-child(2) {
  opacity: 0;
}

#menu-toggle.open .burger-line:nth-child(3) {
  transform: rotate(-45deg);
  position: relative;
  top: -10px; /* ajuste sym√©triquement */
}

#mobile-nav {
  transition: transform 0.5s ease, opacity 0.5s ease;
  transform: translateY(-100%);
  opacity: 0;
  pointer-events: none;
}

#mobile-nav.open {
  transform: translateY(0);
  opacity: 1;
  pointer-events: auto;
}
</style>

<!-- Menu mobile (cach√© par d√©faut) -->
<!-- Navigation mobile -->
<nav
  id="mobile-nav"
  class="fixed top-16 right-0 w-full bg-white shadow-lg transform -translate-y-full opacity-0 pointer-events-none transition-transform transition-opacity duration-300 md:hidden z-50"
>
  <ul class="flex flex-col space-y-2 p-4">
    {{ range .Site.Menus.main }}
    <li>
      <a
        href="#"
        data-id="{{ .Identifier }}"
        class="menu-item block text-center px-3 py-2 text-[20px] font-semibold text-violet-800 bg-emerald-100 hover:text-emerald-700 hover:bg-violet-100 rounded transition-colors duration-300"
      >
        {{ .Name }}
      </a>
    </li>
    {{ end }}
  </ul>
</nav>

<div class="container mx-auto px-4 py-4 items-center justify-between hidden md:flex">
  
  <!-- Gauche : vide ou logo -->
  <div class="flex-1"></div>

  <!-- Centre : barre de recherche -->
  <form id="search-form" class="flex-1 max-w-xl flex items-center gap-2 mx-auto" action="{{ "/search/" | relURL }}" method="get">
    <input id="search-input" name="q" type="search" placeholder="Rechercher par mot-cl√©..."
           class="flex-1 px-4 py-2 border rounded focus:outline-none" />
    <button type="submit" class="px-4 py-2 rounded border font-semibold bg-emerald-100 hover:bg-violet-400 text-black"> 
      Rechercher
    </button>
  </form>

  <!-- Droite : s√©lecteur de langue -->
  <div class="ml-4 relative z-50 flex-1 flex justify-end">
    <button id="lang-toggle" class="flex items-center gap-2 px-3 py-2 bg-white border rounded shadow">
      üåê <span id="current-lang">FR</span>
    </button>
    <ul id="lang-menu" class="hidden absolute right-0 mt-2 bg-white border rounded shadow w-40">
      <li class="px-4 py-2 hover:bg-emerald-100 cursor-pointer" data-lang="fr">FR - Fran√ßais</li>
      <li class="px-4 py-2 hover:bg-emerald-100 cursor-pointer" data-lang="en">EN - English</li>
      <li class="px-4 py-2 hover:bg-emerald-100 cursor-pointer" data-lang="ar">AR - ÿßŸÑÿπÿ±ÿ®Ÿäÿ©</li>
    </ul>
  </div>

</div>


<!-- Scripts -->
<script src="/js/menu.js"></script>
<script src="/js/subMenus.js"></script>

